<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="description" content="Gamedev lessons for Godot Engine.">
    <meta name="keywords" content="gamedev, programming, game development, coding, gdscript, game design">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Hugo 0.56.3" />
    <meta name="description" content="">


    <link rel="icon" href="/godot_recipes/images/favicon.png" type="image/png">

    <title>Using Rigid Bodies :: Godot Recipes by KidsCanCode</title>

    
    <link href="/godot_recipes/css/nucleus.css?1589403839" rel="stylesheet">
    <link href="/godot_recipes/css/fontawesome-all.min.css?1589403839" rel="stylesheet">
    <link href="/godot_recipes/css/hybrid.css?1589403839" rel="stylesheet">
    <link href="/godot_recipes/css/featherlight.min.css?1589403839" rel="stylesheet">
    <link href="/godot_recipes/css/perfect-scrollbar.min.css?1589403839" rel="stylesheet">
    <link href="/godot_recipes/css/auto-complete.css?1589403839" rel="stylesheet">
    <link href="/godot_recipes/css/atom-one-dark-reasonable.css?1589403839" rel="stylesheet">
    <link href="/godot_recipes/css/theme.css?1589403839" rel="stylesheet">
    <link href="/godot_recipes/css/hugo-theme.css?1589403839" rel="stylesheet">
    
      <link href="/godot_recipes/css/theme-green.css?1589403839" rel="stylesheet">
    

    <script src="/godot_recipes/js/jquery-3.3.1.min.js?1589403839"></script>

    <style type="text/css">
      :root #header + #content > #left > #rlblock_left{
          display:none !important;
      }
      
        :not(pre) > code + span.copy-to-clipboard {
            display: none;
        }
      
    </style>
    
<link href="https://fonts.googleapis.com/css?family=Work+Sans:300,400,500" rel="stylesheet">
<style type="text/css">
    pre code {
        white-space: pre;
    }
</style>

  </head>
  <body class="" data-url="/godot_recipes/physics/godot3_kyn_rigidbody1/">
    <nav id="sidebar" class="">



  <div id="header-wrapper">
    <div id="header">
      <a href="http://godotrecipes.com"><div class="mylogo">Godot Recipes</div></a>
      

<img src="/godot_recipes/images/kcc_logo_square.png" />


    </div>
      <a href="https://www.patreon.com/kidscancode"><img src="/godot_recipes/img/become_a_patron_button.png"/></a>
        

    
        <div class="searchbox">
    <label for="search-by"><i class="fas fa-search"></i></label>
    <input data-search-input id="search-by" type="search" placeholder="Search...">
    <span data-search-clear=""><i class="fas fa-times"></i></span>
</div>

<script type="text/javascript" src="/godot_recipes/js/lunr.min.js?1589403839"></script>
<script type="text/javascript" src="/godot_recipes/js/auto-complete.js?1589403839"></script>
<script type="text/javascript">
    
        var baseurl = "http:\/\/kidscancode.org\/godot_recipes\/";
    
</script>
<script type="text/javascript" src="/godot_recipes/js/search.js?1589403839"></script>

    

  </div>

    <div class="highlightable">
    <ul class="topics">

        
          
          


 
  
    
    <li data-nav-id="/godot_recipes/g101/" title="Godot 101" class="dd-item
        
        
        
        ">
      <a href="/godot_recipes/g101/">
          <i class='fas fa-graduation-cap fa-fw'></i> Godot 101
          
      </a>
      
      
        <ul>
          
          
            
          
          

        
          
            
            


 
  
    
    <li data-nav-id="/godot_recipes/g101/start/" title="Getting Started" class="dd-item
        
        
        
        ">
      <a href="/godot_recipes/g101/start/">
          <i class='fas fa-feather-alt fa-fw'></i> Getting Started
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            


 
  
    
      <li data-nav-id="/godot_recipes/g101/start/101_01/" title="What is Godot?" class="dd-item ">
        <a href="/godot_recipes/g101/start/101_01/">
        01. What is Godot?
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/godot_recipes/g101/start/101_02/" title="Godot&#39;s Editor: Finding your way around" class="dd-item ">
        <a href="/godot_recipes/g101/start/101_02/">
        02. The Godot Editor
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/godot_recipes/g101/start/101_03/" title="Nodes: Godot&#39;s building blocks" class="dd-item ">
        <a href="/godot_recipes/g101/start/101_03/">
        03. Nodes
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/godot_recipes/g101/gdscript/" title="GDScript" class="dd-item
        
        
        
        ">
      <a href="/godot_recipes/g101/gdscript/">
          <i class='fas fa-scroll fa-fw'></i> GDScript
          
      </a>
      
      
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/godot_recipes/g101/3d/" title="Intro to 3D" class="dd-item
        
        
        
        ">
      <a href="/godot_recipes/g101/3d/">
          <i class='fas fa-cube fa-fw'></i> Intro to 3D
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            


 
  
    
      <li data-nav-id="/godot_recipes/g101/3d/101_3d_01/" title="The 3D Editor" class="dd-item ">
        <a href="/godot_recipes/g101/3d/101_3d_01/">
        01. The 3D Editor
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/godot_recipes/g101/3d/101_3d_02/" title="Importing 3D Objects" class="dd-item ">
        <a href="/godot_recipes/g101/3d/101_3d_02/">
        02. Importing 3D Objects
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/godot_recipes/g101/3d/101_3d_03/" title="Creating a 3D Character" class="dd-item ">
        <a href="/godot_recipes/g101/3d/101_3d_03/">
        03. Creating a 3D Character
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/godot_recipes/g101/3d/101_3d_04/" title="Using Areas" class="dd-item ">
        <a href="/godot_recipes/g101/3d/101_3d_04/">
        04. Using Areas
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/godot_recipes/g101/3d/101_3d_05/" title="Edge Detection &amp; Mouse Capture" class="dd-item ">
        <a href="/godot_recipes/g101/3d/101_3d_05/">
        05. Edge Detection &amp; Mouse Capture
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/godot_recipes/g101/3d/101_3d_06/" title="Using CSG" class="dd-item ">
        <a href="/godot_recipes/g101/3d/101_3d_06/">
        06. Using CSG
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/godot_recipes/g101/3d/101_3d_07/" title="First-person Character" class="dd-item ">
        <a href="/godot_recipes/g101/3d/101_3d_07/">
        07. First-person Character
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/godot_recipes/basics/" title="Basics" class="dd-item
        
        
        
        ">
      <a href="/godot_recipes/basics/">
          <i class='fas fa-toolbox fa-fw'></i> Basics
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            


 
  
    
      <li data-nav-id="/godot_recipes/basics/getting_nodes/" title="Understanding node paths" class="dd-item ">
        <a href="/godot_recipes/basics/getting_nodes/">
        Understanding node paths
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/godot_recipes/basics/understanding_delta/" title="Understanding &#39;delta&#39;" class="dd-item ">
        <a href="/godot_recipes/basics/understanding_delta/">
        Understanding &#39;delta&#39;
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/godot_recipes/basics/file_io/" title="Saving/loading data" class="dd-item ">
        <a href="/godot_recipes/basics/file_io/">
        Saving/loading data
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/godot_recipes/basics/rotation/" title="Circular movement" class="dd-item ">
        <a href="/godot_recipes/basics/rotation/">
        Circular movement
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/godot_recipes/2d/" title="2D" class="dd-item
        
        
        
        ">
      <a href="/godot_recipes/2d/">
          <i class='fas fa-shapes fa-fw'></i> 2D
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            


 
  
    
      <li data-nav-id="/godot_recipes/2d/enter_exit_screen/" title="Entering/Exiting the screen" class="dd-item ">
        <a href="/godot_recipes/2d/enter_exit_screen/">
        Entering/Exiting the screen
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/godot_recipes/2d/platform_character/" title="Platform character" class="dd-item ">
        <a href="/godot_recipes/2d/platform_character/">
        Platform character
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/godot_recipes/2d/screen_wrap/" title="Screen wrap" class="dd-item ">
        <a href="/godot_recipes/2d/screen_wrap/">
        Screen wrap
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/godot_recipes/2d/splitscreen_demo/" title="Splitscreen multiplayer" class="dd-item ">
        <a href="/godot_recipes/2d/splitscreen_demo/">
        Splitscreen multiplayer
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/godot_recipes/2d/tilemap_collision/" title="TileMap: detecting tiles" class="dd-item ">
        <a href="/godot_recipes/2d/tilemap_collision/">
        TileMap: detecting tiles
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/godot_recipes/2d/topdown_movement/" title="Top-down movement" class="dd-item ">
        <a href="/godot_recipes/2d/topdown_movement/">
        Top-down movement
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/godot_recipes/2d/grid_movement/" title="Grid-based movement" class="dd-item ">
        <a href="/godot_recipes/2d/grid_movement/">
        Grid-based movement
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/godot_recipes/2d/car_steering/" title="Car steering" class="dd-item ">
        <a href="/godot_recipes/2d/car_steering/">
        Car steering
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/godot_recipes/2d/autotile_intro/" title="TileMap: using autotile" class="dd-item ">
        <a href="/godot_recipes/2d/autotile_intro/">
        TileMap: using autotile
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/godot_recipes/2d/2d_align_surface/" title="KinematicBody2D: align with surface" class="dd-item ">
        <a href="/godot_recipes/2d/2d_align_surface/">
        KinematicBody2D: align with surface
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/godot_recipes/2d/moving_platforms/" title="Moving Platforms" class="dd-item ">
        <a href="/godot_recipes/2d/moving_platforms/">
        Moving Platforms
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/godot_recipes/2d/tilemap_animation/" title="TileMap: animated tiles" class="dd-item ">
        <a href="/godot_recipes/2d/tilemap_animation/">
        TileMap: animated tiles
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/godot_recipes/2d/screen_shake/" title="Screen Shake" class="dd-item ">
        <a href="/godot_recipes/2d/screen_shake/">
        Screen Shake
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/godot_recipes/2d/touchscreen_camera/" title="Touchscreen Camera" class="dd-item ">
        <a href="/godot_recipes/2d/touchscreen_camera/">
        Touchscreen Camera
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/godot_recipes/3d/" title="3D" class="dd-item
        
        
        
        ">
      <a href="/godot_recipes/3d/">
          <i class='fas fa-cube fa-fw'></i> 3D
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            


 
  
    
      <li data-nav-id="/godot_recipes/3d/camera_gimbal/" title="Camera Gimbal" class="dd-item ">
        <a href="/godot_recipes/3d/camera_gimbal/">
        Camera Gimbal
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/godot_recipes/3d/kinematic_body/" title="KinematicBody: Movement" class="dd-item ">
        <a href="/godot_recipes/3d/kinematic_body/">
        KinematicBody: Movement
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/godot_recipes/3d/healthbars/" title="3D Unit Healthbars" class="dd-item ">
        <a href="/godot_recipes/3d/healthbars/">
        3D Unit Healthbars
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/godot_recipes/3d/click_to_move/" title="Click to move" class="dd-item ">
        <a href="/godot_recipes/3d/click_to_move/">
        Click to move
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/godot_recipes/3d/3d_align_surface/" title="KinematicBody: align with surface" class="dd-item ">
        <a href="/godot_recipes/3d/3d_align_surface/">
        KinematicBody: align with surface
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/godot_recipes/input/" title="Input" class="dd-item
        
        
        
        ">
      <a href="/godot_recipes/input/">
          <i class='fas fa-gamepad fa-fw'></i> Input
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            


 
  
    
      <li data-nav-id="/godot_recipes/input/input_actions/" title="Input Actions" class="dd-item ">
        <a href="/godot_recipes/input/input_actions/">
        Input Actions
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/godot_recipes/input/mouse_input/" title="Mouse Input" class="dd-item ">
        <a href="/godot_recipes/input/mouse_input/">
        Mouse Input
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/godot_recipes/input/custom_actions/" title="Adding Input Actions in code" class="dd-item ">
        <a href="/godot_recipes/input/custom_actions/">
        Adding Input Actions in code
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/godot_recipes/input/mouse_capture/" title="Capturing the Mouse" class="dd-item ">
        <a href="/godot_recipes/input/mouse_capture/">
        Capturing the Mouse
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/godot_recipes/input/custom_mouse_cursor/" title="Customizing the Mouse Cursor" class="dd-item ">
        <a href="/godot_recipes/input/custom_mouse_cursor/">
        Customizing the Mouse Cursor
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/godot_recipes/input/multi_unit_select/" title="Mouse: Drag-select multiple units" class="dd-item ">
        <a href="/godot_recipes/input/multi_unit_select/">
        Mouse: Drag-select multiple units
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/godot_recipes/animation/" title="Animation" class="dd-item
        
        
        
        ">
      <a href="/godot_recipes/animation/">
          <i class='fas fa-film fa-fw'></i> Animation
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            


 
  
    
      <li data-nav-id="/godot_recipes/animation/spritesheet_animation/" title="Spritesheet animation" class="dd-item ">
        <a href="/godot_recipes/animation/spritesheet_animation/">
        Spritesheet animation
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/godot_recipes/animation/melee_attacks/" title="Melee attacks" class="dd-item ">
        <a href="/godot_recipes/animation/melee_attacks/">
        Melee attacks
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/godot_recipes/animation/animation_state_machine/" title="Controlling animation states" class="dd-item ">
        <a href="/godot_recipes/animation/animation_state_machine/">
        Controlling animation states
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/godot_recipes/ui/" title="UI" class="dd-item
        
        
        
        ">
      <a href="/godot_recipes/ui/">
          <i class='far fa-window-maximize fa-fw'></i> UI
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            


 
  
    
      <li data-nav-id="/godot_recipes/ui/labels/" title="Labels" class="dd-item ">
        <a href="/godot_recipes/ui/labels/">
        Labels
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/godot_recipes/ui/containers/" title="Containers" class="dd-item ">
        <a href="/godot_recipes/ui/containers/">
        Containers
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/godot_recipes/ui/cooldown_button/" title="Cooldown Button" class="dd-item ">
        <a href="/godot_recipes/ui/cooldown_button/">
        Cooldown Button
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/godot_recipes/ui/heart_containers_3/" title="Heart Containers: 3 Ways" class="dd-item ">
        <a href="/godot_recipes/ui/heart_containers_3/">
        Heart Containers: 3 Ways
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/godot_recipes/ui/unit_healthbar/" title="Object Healthbars" class="dd-item ">
        <a href="/godot_recipes/ui/unit_healthbar/">
        Object Healthbars
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/godot_recipes/ui/floating_text/" title="Floating combat text" class="dd-item ">
        <a href="/godot_recipes/ui/floating_text/">
        Floating combat text
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/godot_recipes/ui/minimap/" title="Minimap/radar" class="dd-item ">
        <a href="/godot_recipes/ui/minimap/">
        Minimap/radar
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/godot_recipes/math/" title="Gamedev Math" class="dd-item
        
        
        
        ">
      <a href="/godot_recipes/math/">
          <i class='fas fa-rocket fa-fw'></i> Gamedev Math
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            


 
  
    
      <li data-nav-id="/godot_recipes/math/interpolation/" title="Interpolation" class="dd-item ">
        <a href="/godot_recipes/math/interpolation/">
        Interpolation
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/godot_recipes/math/transforms/" title="Transforms" class="dd-item ">
        <a href="/godot_recipes/math/transforms/">
        Transforms
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/godot_recipes/math/noise/" title="Noise" class="dd-item ">
        <a href="/godot_recipes/math/noise/">
        Noise
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/godot_recipes/recipes/" title="Misc" class="dd-item
        
        
        
        ">
      <a href="/godot_recipes/recipes/">
          <i class='fas fa-box-open'></i> Misc
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            


 
  
    
      <li data-nav-id="/godot_recipes/recipes/godot3_inheritance/" title="Inheritance" class="dd-item ">
        <a href="/godot_recipes/recipes/godot3_inheritance/">
        Inheritance
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/godot_recipes/physics/" title="Physics" class="dd-item
        parent
        
        
        ">
      <a href="/godot_recipes/physics/">
          <i class='fas fa-atom fa-fw'></i> Physics
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            


 
  
    
      <li data-nav-id="/godot_recipes/physics/godot3_kinematic2d/" title="Using KinematicBody2D" class="dd-item ">
        <a href="/godot_recipes/physics/godot3_kinematic2d/">
        Using KinematicBody2D
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/godot_recipes/physics/godot3_kyn_rigidbody1/" title="Using Rigid Bodies" class="dd-item active">
        <a href="/godot_recipes/physics/godot3_kyn_rigidbody1/">
        Using Rigid Bodies
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/godot_recipes/physics/kinematic_friction/" title="Kinematic Friction" class="dd-item ">
        <a href="/godot_recipes/physics/kinematic_friction/">
        Kinematic Friction
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/godot_recipes/physics/rigidbody_drag_drop/" title="RigidBody2D: Drag and Drop" class="dd-item ">
        <a href="/godot_recipes/physics/rigidbody_drag_drop/">
        RigidBody2D: Drag and Drop
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/godot_recipes/physics/kinematic_to_rigidbody/" title="Kinematic to Rigid Body Interaction" class="dd-item ">
        <a href="/godot_recipes/physics/kinematic_to_rigidbody/">
        Kinematic to Rigid Body Interaction
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/godot_recipes/physics/joints_2d/" title="Using 2D Joints" class="dd-item ">
        <a href="/godot_recipes/physics/joints_2d/">
        Using 2D Joints
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/godot_recipes/physics/conveyor_belt/" title="Conveyor Belt" class="dd-item ">
        <a href="/godot_recipes/physics/conveyor_belt/">
        Conveyor Belt
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/godot_recipes/ai/" title="AI/Behavior" class="dd-item
        
        
        
        ">
      <a href="/godot_recipes/ai/">
          <i class='fas fa-project-diagram fa-fw'></i> AI/Behavior
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            


 
  
    
      <li data-nav-id="/godot_recipes/ai/chase/" title="Chasing the player" class="dd-item ">
        <a href="/godot_recipes/ai/chase/">
        Chasing the player
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/godot_recipes/ai/path_follow/" title="Path following" class="dd-item ">
        <a href="/godot_recipes/ai/path_follow/">
        Path following
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/godot_recipes/ai/changing_behaviors/" title="Changing behaviors" class="dd-item ">
        <a href="/godot_recipes/ai/changing_behaviors/">
        Changing behaviors
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/godot_recipes/ai/homing_missile/" title="Homing missile" class="dd-item ">
        <a href="/godot_recipes/ai/homing_missile/">
        Homing missile
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/godot_recipes/shaders/" title="Shaders" class="dd-item
        
        
        
        ">
      <a href="/godot_recipes/shaders/">
          <i class='fas fa-draw-polygon fa-fw'></i> Shaders
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            


 
  
    
      <li data-nav-id="/godot_recipes/shaders/intro/" title="Shaders: intro" class="dd-item ">
        <a href="/godot_recipes/shaders/intro/">
        Shaders: intro
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/godot_recipes/shaders/interacting/" title="Interacting with Shaders" class="dd-item ">
        <a href="/godot_recipes/shaders/interacting/">
        Interacting with Shaders
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/godot_recipes/shaders/greyscale/" title="Greyscale (monochrome) shader" class="dd-item ">
        <a href="/godot_recipes/shaders/greyscale/">
        Greyscale (monochrome) shader
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/godot_recipes/shaders/blur/" title="Blur shader" class="dd-item ">
        <a href="/godot_recipes/shaders/blur/">
        Blur shader
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/godot_recipes/export/" title="Exporting" class="dd-item
        
        
        
        ">
      <a href="/godot_recipes/export/">
          <i class='fas fa-file-export fa-fw'></i> Exporting
          
      </a>
      
      
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/godot_recipes/games/" title="Game Tutorials" class="dd-item
        
        
        
        ">
      <a href="/godot_recipes/games/">
          <i class='fas fa-chess-pawn fa-fw'></i> Game Tutorials
          
      </a>
      
      
        <ul>
          
          
            
          
          

        
          
            
            


 
  
    
    <li data-nav-id="/godot_recipes/games/circle_jump/" title="Mobile Game: Circle Jump" class="dd-item
        
        
        
        ">
      <a href="/godot_recipes/games/circle_jump/">
          <i class='far fa-circle fa-fw'></i> Mobile Game: Circle Jump
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            


 
  
    
      <li data-nav-id="/godot_recipes/games/circle_jump/circle_jump_01/" title="Project setup" class="dd-item ">
        <a href="/godot_recipes/games/circle_jump/circle_jump_01/">
        01. Project setup
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/godot_recipes/games/circle_jump/circle_jump_02/" title="Spawning Circles" class="dd-item ">
        <a href="/godot_recipes/games/circle_jump/circle_jump_02/">
        02. Spawning Circles
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/godot_recipes/games/circle_jump/circle_jump_03/" title="Limited circles" class="dd-item ">
        <a href="/godot_recipes/games/circle_jump/circle_jump_03/">
        03. Limited circles
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/godot_recipes/games/circle_jump/circle_jump_04/" title="Menus" class="dd-item ">
        <a href="/godot_recipes/games/circle_jump/circle_jump_04/">
        04. Menus
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/godot_recipes/games/circle_jump/circle_jump_05/" title="Score and HUD" class="dd-item ">
        <a href="/godot_recipes/games/circle_jump/circle_jump_05/">
        05. Score and HUD
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/godot_recipes/games/circle_jump/circle_jump_06/" title="Sound and Colors" class="dd-item ">
        <a href="/godot_recipes/games/circle_jump/circle_jump_06/">
        06. Sound and Colors
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/godot_recipes/games/circle_jump/circle_jump_07/" title="Moving circles" class="dd-item ">
        <a href="/godot_recipes/games/circle_jump/circle_jump_07/">
        07. Moving circles
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/godot_recipes/games/circle_jump/circle_jump_11/" title="Mobile ads" class="dd-item ">
        <a href="/godot_recipes/games/circle_jump/circle_jump_11/">
        11. Mobile ads
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/godot_recipes/games/circle_jump/circle_jump_12/" title="Saving settings" class="dd-item ">
        <a href="/godot_recipes/games/circle_jump/circle_jump_12/">
        12. Saving settings
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
        
    </ul>

    
    

    
    <section id="footer">
      
<p align="center">
    <a href="https://github.com/kidscancode/godot_lessons"><i class="fab fa-github-square fa-3x"></i></a>
    <a href="https://www.youtube.com/c/KidsCanCodeOrg"><i class="fab fa-youtube-square fa-3x"></i></a>
    <a href="http://twitter.com/KidsCanCode"><i class="fab fa-twitter-square fa-3x"></i></a>
</p>
<p align="center"><i class="far fa-copyright"></i> 2019 KidsCanCode </p>
    </section>
  </div>
</nav>





        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
              <div>
                <div id="top-bar">
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fas fa-bars"></i>
                        </a>
                    </span>
                  
                  <span id="toc-menu"><i class="fas fa-list-alt"></i></span>
                  
                  <span class="links">
                 
                 
                    
          
          
            
            
          
          
            
            
          
          
            <a href='/godot_recipes/'>Home</a> > <a href='/godot_recipes/physics/'>Physics</a> > Using Rigid Bodies
          
        
          
        
          
        
                 
                  </span>
                </div>
                
                    <div class="progress">
    <div class="wrapper">
<nav id="TableOfContents">
<ul>
<li>
<ul>
<li><a href="#introduction">Introduction</a></li>
<li><a href="#using-rigidbody2d">Using RigidBody2D</a>
<ul>
<li><a href="#stacking-blocks">Stacking blocks</a></li>
<li><a href="#projectile">Projectile</a></li>
<li><a href="#forces">Forces</a></li>
</ul></li>
<li><a href="#controlling-rigid-bodies">Controlling Rigid Bodies</a></li>
<li><a href="#the-position-problem">The Position Problem</a></li>
<li><a href="#conclusion">Conclusion</a></li>
</ul></li>
</ul>
</nav>
    </div>
</div>

                
              </div>
            </div>
            
        <div id="head-tags">
        
        </div>
        
        <div id="body-inner">
          
            <h1>
              
              Using Rigid Bodies
            </h1>
          

        






<div class="notices note" ><p>This tutorial was written prior to Godot Recipes. Its format will eventually be updated to match the rest of the docs on this site.</p>
</div>


<p>In this tutorial, I&rsquo;ll explain when (and when not) to use rigid bodies, how they
work, and demonstrate a few handy tricks to bend them to your will. The
examples will use RigidBody2D, but the lessons apply equally to 3D.</p>

<h2 id="introduction">Introduction</h2>

<p><a href="http://docs.godotengine.org/en/latest/classes/class_rigidbody2d.html" target="_blank"><svg width="18" height="18" class="icon-icon_rigid_body_2d">
<use xlink:href="/blog/img/symbol-defs.svg#icon-icon_rigid_body_2d"></svg> <code>RigidBody2D</code></a>
is the physics body in Godot that provides simulated physics. This means that you
don&rsquo;t control a RigidBody2D directly. Instead you apply forces to it (gravity, impulses,
etc.) and Godot&rsquo;s built-in physics engine calculates the resulting movement, including
collisions, bouncing, rotating, etc.</p>

<p>You can modify a RigidBody2D&rsquo;s behavior via properties such as &ldquo;Mass&rdquo;, &ldquo;Friction&rdquo;,
or &ldquo;Bounce&rdquo;, which can be set in the Inspector:</p>

<p><img src="/godot_recipes/img/rigidbody_properties.png" alt="alt" /></p>

<p>The body&rsquo;s behavior is also affected by the world, via the <em>Project Settings -&gt; Physics</em>
properties, or by entering an <a href="http://docs.godotengine.org/en/latest/classes/class_area2d.html"><svg width="18" height="18" class="icon-icon_area_2d" target="_blank"><use xlink:href="/blog/img/symbol-defs.svg#icon-icon_area_2d"></svg> <code>Area2D</code></a> that is overriding the global physics properties.</p>

<h2 id="using-rigidbody2d">Using RigidBody2D</h2>

<p>One of the benefits of using a rigid body is that a lot of behavior can be gotten &ldquo;for
free&rdquo; without writing any code. For example, let&rsquo;s look at making a rudimentary
&ldquo;Angry Birds&rdquo;-style game with falling blocks. You only need to create RigidBody2Ds
for the blocks and projectile, and set their properties. Stacking, falling, and bouncing
will automatically be handled by the physics engine.</p>

<h3 id="stacking-blocks">Stacking blocks</h3>

<p>Start by making a RigidBody2D for the block and adding <a href="http://docs.godotengine.org/en/latest/classes/class_sprite.html" target="_blank"><svg width="18" height="18" class="icon-icon_sprite"><use xlink:href="/blog/img/symbol-defs.svg#icon-icon_sprite"></svg><code>Sprite</code></a> and
<a href="http://docs.godotengine.org/en/latest/classes/class_collisionshape2D.html" target="_blank"><svg width="18" height="18" class="icon-icon_collision_shape_2d"><use xlink:href="/blog/img/symbol-defs.svg#icon-icon_collision_shape_2d"></svg><code>CollisionShape2D</code></a>
children:</p>

<p><img src="/godot_recipes/img/rigidbody_block_scene.png" alt="alt" /></p>

<p>Add a texture to the Sprite and a rectangular collision shape. <strong>IMPORTANT</strong>: Do <em>not</em>
change the <em>Scale</em> of the collision shape! In general this is a bad idea, and will
result in unexpected collision behavior. Always use the shape&rsquo;s inner size handles and
not the outer <code>Node2D</code>-derived scale handles.</p>

<blockquote>
<p><strong>NOTE:</strong> For the textures in this example, I&rsquo;m using the <a href="http://kenney.nl/assets/physics-assets">Physics Asset</a> pack from Kenney.nl. It contains a
wide variety of blocks in different shapes and materials.</p>
</blockquote>

<p>Press &ldquo;Play&rdquo; and you&rsquo;ll see the block fall slowly downward. This is due to the
default global gravity. You can find this setting in &ldquo;Project Settings&rdquo; under
<em>Physics -&gt; 2d</em>. You can also try changing the Block&rsquo;s <code>Gravity Scale</code> property in the
Inspector. I&rsquo;m using a value of <code>3</code>.</p>

<p>Now create a Main scene (I usually use a <a href="http://docs.godotengine.org/en/latest/classes/class_node.html" target="_blank"><svg width="18" height="18" class="icon-icon_node"><use xlink:href="/blog/img/symbol-defs.svg#icon-icon_node"></svg>Node</a>) for the root).
Add a few <a href="http://docs.godotengine.org/en/latest/classes/class_staticbody2d.html" target="_blank"><svg width="18" height="18" class="icon-icon_staticbody2d"><use xlink:href="/blog/img/symbol-defs.svg#icon-icon_static_body_2d"></svg>StaticBody2D</a>
nodes with rectangular collision shapes to serve as your &ldquo;ground&rdquo; and walls.</p>

<p>Instance a Block, and then duplicate it (<code>Ctrl-D</code> on Windows and <code>Cmd-D</code> on MacOS)
so you can make a nice stack. Something like this:</p>

<p><img src="/godot_recipes/img/rigidbody_scene1.png" alt="alt" /></p>

<h3 id="projectile">Projectile</h3>

<p>Create another scene with the same node setup as your Block, but name this one &ldquo;Ball&rdquo;. Use one of
the round textures and a circular collision shape. Instance this in your Main
scene and place it somewhere to the side of the stack of blocks.</p>

<p>To cause a rigid body to move, it must have some velocity. You can give the body
an initial velocity using the <code>Linear -&gt; Velocity</code> property. Try setting this
to <code>(500, 0)</code>.</p>

<p><img src="/godot_recipes/img/rigidbody_vel.gif" alt="alt" /></p>

<p>You can also tinker with the ball&rsquo;s <code>Friction</code> and <code>Bounce</code> properties. Both of
these properties can range from zero to one. I like a bounce of around <code>0.5</code>.</p>

<blockquote>
<p><strong>IMPORTANT:</strong> <em>NEVER</em> scale a physics body! If you try, a warning will appear,
and when the scene runs, the physics engine will automatically set the scale back
to <code>(1, 1)</code>.</p>
</blockquote>

<h3 id="forces">Forces</h3>

<p>Reset the linear velocity to <code>(0, 0)</code>. Now what if you want to be able to toss
the ball? You should never set a rigid body&rsquo;s velocity or position manually -
remember, these are simulating &ldquo;real-world&rdquo; style physics. In the real world,
objects can&rsquo;t instantly jump from place to place or from a standstill to a high
speed. If you try and do so, the physics engine will resist it, and unexpected
movement can occur. Instead, we must apply forces which create an acceleration in a certain
direction (also known as Newton&rsquo;s Second Law). Godot physics objects work in
the same way.</p>

<p>To add force to a rigid body, you have two functions to choose from:</p>

<ul>
<li><code>add_force()</code></li>
</ul>

<p>Adds a continuous force to the body. Imagine a rocket&rsquo;s thrust, steadily
pushing it faster and faster. Note that this <em>adds</em> to any already existing
forces. The force continues to be applied until removed.</p>

<ul>
<li><code>apply_impulse()</code></li>
</ul>

<p>Adds an instantaneous &ldquo;kick&rdquo; to the body. Imagine hitting a baseball with a bat.</p>

<p>We&rsquo;ll use <code>apply_impulse()</code> to kick the ball when we click, drag, and release
the mouse button.</p>

<p>Open &ldquo;Project Settings&rdquo; and in the &ldquo;Input Map&rdquo; tab, add a new action called &ldquo;click&rdquo;.
Connect it to the left mouse button.</p>

<p>Next, add a script to the Ball, and add the following code:</p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-swift" data-lang="swift">extends RigidBody2D

<span style="color:#8be9fd;font-style:italic">var</span> <span style="color:#8be9fd;font-style:italic">dragging</span>
<span style="color:#8be9fd;font-style:italic">var</span> <span style="color:#8be9fd;font-style:italic">drag_start</span> = Vector2()

<span style="color:#8be9fd;font-style:italic">func</span> <span style="color:#50fa7b">_input</span>(event):
    <span style="color:#ff79c6">if</span> event.is_action_pressed(<span style="color:#f1fa8c">&#34;click&#34;</span>) and not dragging:
        dragging = <span style="color:#ff79c6">true</span>
        drag_start = get_global_mouse_position()
    <span style="color:#ff79c6">if</span> event.is_action_released(<span style="color:#f1fa8c">&#34;click&#34;</span>) and dragging:
        dragging = <span style="color:#ff79c6">false</span>
        <span style="color:#8be9fd;font-style:italic">var</span> <span style="color:#8be9fd;font-style:italic">drag_end</span> = get_global_mouse_position()
        <span style="color:#8be9fd;font-style:italic">var</span> <span style="color:#8be9fd;font-style:italic">dir</span> = drag_start <span style="color:#ff79c6">-</span> drag_end
        apply_impulse(Vector2(), dir <span style="color:#ff79c6">*</span> <span style="color:#bd93f9">5</span>)</code></pre></div>

<p>This script toggles <code>dragging</code> on when the mouse button is pressed and records
the location of the click. When the button is released, we find the vector from
the click point to the release point and use that to apply the impulse (multiplying
by <code>5</code> to scale it up). <code>apply_impulse()</code> also takes an <code>offset</code> as its first
parameter. This lets you &ldquo;hit&rdquo; the body off center, if you wish. For instance,
try setting it to <code>Vector2(25, 0)</code> and you&rsquo;ll add some spin to the ball when
it&rsquo;s launched.</p>

<p><img src="/godot_recipes/img/rigidbody_impulse.gif" alt="alt" /></p>

<h2 id="controlling-rigid-bodies">Controlling Rigid Bodies</h2>

<p>There are cases where you need more direct control of a rigid body. For example,
imagine you&rsquo;re trying to make a version of the classic game &ldquo;Asteroids&rdquo;. The
player&rsquo;s spaceship needs to rotate using the left/right arrow keys, and to move
forward when the up arrow is pressed.</p>

<p>Here&rsquo;s the image I&rsquo;m using for my ship:</p>

<p><img src="/godot_recipes/img/ship_red.png" alt="alt" /></p>

<p>I recommend you also go to <a href="http://opengameart.org/">OpenGameArt</a> and search for
a nice space background (but this is totally optional).</p>

<p>Create a new scene for the ship as we did above with the following node structure:</p>

<ul>
<li><code>RigidBody2D</code>

<ul>
<li><code>Sprite</code></li>
<li><code>CollisionShape2D</code></li>
</ul></li>
</ul>

<blockquote>
<p><strong>Note:</strong> In Godot 3.0, <code>0</code> degrees points to the right (along the <strong>x</strong> axis).
This means you need to add a <code>Rotation</code> of <code>90</code> to the <code>Sprite</code> so it will
match the body&rsquo;s direction.</p>
</blockquote>

<p>By default, the physics settings provide some <em>damping</em>, which reduces a body&rsquo;s
velocity and spin. In space, there&rsquo;s no friction, so there shouldn&rsquo;t be any
damping at all. However, for the &ldquo;Asteroids&rdquo; feel, we want the ship to stop rotating
when we let go of the keys, so set the ship&rsquo;s <code>Angular -&gt; Damp</code> to <code>5</code>.</p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-swift" data-lang="swift">extends RigidBody2D

export (int) <span style="color:#8be9fd;font-style:italic">var</span> <span style="color:#8be9fd;font-style:italic">engine_thrust</span>
export (int) <span style="color:#8be9fd;font-style:italic">var</span> <span style="color:#8be9fd;font-style:italic">spin_thrust</span>

<span style="color:#8be9fd;font-style:italic">var</span> <span style="color:#8be9fd;font-style:italic">thrust</span> = Vector2()
<span style="color:#8be9fd;font-style:italic">var</span> <span style="color:#8be9fd;font-style:italic">rotation_dir</span> = <span style="color:#bd93f9">0</span>
<span style="color:#8be9fd;font-style:italic">var</span> <span style="color:#8be9fd;font-style:italic">screensize</span>

<span style="color:#8be9fd;font-style:italic">func</span> <span style="color:#50fa7b">_ready</span>():
    screensize = get_viewport().get_visible_rect().size

<span style="color:#8be9fd;font-style:italic">func</span> <span style="color:#50fa7b">get_input</span>():
    <span style="color:#ff79c6">if</span> Input.is_action_pressed(<span style="color:#f1fa8c">&#34;ui_up&#34;</span>):
        thrust = Vector2(engine_thrust, <span style="color:#bd93f9">0</span>)
    <span style="color:#ff79c6">else</span>:
        thrust = Vector2()
    rotation_dir = <span style="color:#bd93f9">0</span>
    <span style="color:#ff79c6">if</span> Input.is_action_pressed(<span style="color:#f1fa8c">&#34;ui_right&#34;</span>):
        rotation_dir <span style="color:#ff79c6">+=</span> <span style="color:#bd93f9">1</span>
    <span style="color:#ff79c6">if</span> Input.is_action_pressed(<span style="color:#f1fa8c">&#34;ui_left&#34;</span>):
        rotation_dir <span style="color:#ff79c6">-=</span> <span style="color:#bd93f9">1</span>

<span style="color:#8be9fd;font-style:italic">func</span> <span style="color:#50fa7b">_process</span>(delta):
    get_input()

<span style="color:#8be9fd;font-style:italic">func</span> <span style="color:#50fa7b">_physics_process</span>(delta):
    set_applied_force(thrust.rotated(rotation))
    set_applied_torque(rotation_dir <span style="color:#ff79c6">*</span> spin_thrust)</code></pre></div>

<p>Let&rsquo;s walk through what this script is doing. The two variables, <code>engine_thrust</code>
and <code>spin_thrust</code> control how fast the ship can accelerate and turn. In the
Inspector, set them to <code>500</code> and <code>25000</code> respectively (the units of torque make
for large numbers). <code>thrust</code> will represent the ship&rsquo;s engine state: <code>(0, 0)</code>
when coasting, or a vector with the length of <code>engine_thrust</code> when powered on.
<code>rotation_dir</code> will represent what direction the ship is turning. The <code>screensize</code>
variable will capture the size of the screen, which we&rsquo;ll be using later.</p>

<p>Next, the <code>input()</code> function captures the keystates and sets the ship&rsquo;s <code>thrust</code>
on or off, and the rotation direction (<code>rotation_dir</code>) positive or negative. This
function is called every frame in <code>_process()</code>.</p>

<p>Finally, physics-related functions should be called in <code>_physics_process()</code>. Here
we use <code>set_applied_force()</code> to apply the <code>thrust</code> in whatever <code>direction</code> the
ship is facing. Then we use <code>set_applied_torque()</code> to cause the ship to rotate.</p>

<p>Play the scene - you should be able to fly around freely.</p>

<p><img src="/godot_recipes/img/rigidbody_ship1.gif" alt="alt" /></p>

<h2 id="the-position-problem">The Position Problem</h2>

<p>Another feature of &ldquo;Asteroids&rdquo; is that the screen &ldquo;wraps around&rdquo;. If the player
goes off one side, it teleports to the other side. But we already talked above
about how you can&rsquo;t change a rigid body&rsquo;s position without breaking the physics
engine. This presents a huge problem when working with rigid bodies.</p>

<p>A common mistake is to try adding something like this to <code>_physics_process()</code>:</p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-swift" data-lang="swift"><span style="color:#8be9fd;font-style:italic">func</span> <span style="color:#50fa7b">_physics_process</span>(delta):
    <span style="color:#ff79c6">if</span> position.x <span style="color:#ff79c6">&gt;</span> screensize.x:
        position.x = <span style="color:#bd93f9">0</span>
    <span style="color:#ff79c6">if</span> position.x <span style="color:#ff79c6">&lt;</span> <span style="color:#bd93f9">0</span>:
        position.x = screensize.x
    <span style="color:#ff79c6">if</span> position.y <span style="color:#ff79c6">&gt;</span> screensize.y:
        position.y = <span style="color:#bd93f9">0</span>
    <span style="color:#ff79c6">if</span> position.y <span style="color:#ff79c6">&lt;</span> <span style="color:#bd93f9">0</span>:
        position.y = screensize.y
    set_applied_force(thrust.rotated(rotation))
    set_applied_torque(rotation_dir <span style="color:#ff79c6">*</span> spin_thrust)</code></pre></div>

<p>This fails spectacularly, trapping the player on the edge of the screen (with
occasional glitches). So why doesn&rsquo;t this work? The docs say <code>_physics_process()</code>
is for physics-related stuff, right?</p>

<p>Not exactly. <code>_physics_process()</code> is <em>synced</em> to the physics timestep, but that
doesn&rsquo;t make it OK to use for just anything. Hope is not lost, however, the answer
is in the docs.</p>

<p>To quote the <a href="http://docs.godotengine.org/en/latest/classes/class_rigidbody2d.html#description">RigidBody2D docs</a>:</p>

<blockquote>
<p>You should not change a RigidBody2Ds position or linear_velocity every frame or even very often. If you need to directly affect the bodys state, use <code>_integrate_forces</code>, which allows you to directly access the physics state.</p>
</blockquote>

<p>And the <a href="http://docs.godotengine.org/en/latest/classes/class_rigidbody2d.html#class-rigidbody2d-integrate-forces">description for _integrate_forces</a>:</p>

<blockquote>
<p>Allows you to read and <strong>safely modify</strong> the simulation state for the object. Use this instead of <code>_physics_process</code> if you need to directly change the bodys position or other physics properties.</p>
</blockquote>

<p>So there&rsquo;s our answer. Instead of using <code>_physics_process()</code> we need to use <code>_integrate_forces()</code>,
which gives us access to the <a href="http://docs.godotengine.org/en/latest/classes/class_physics2ddirectbodystate.html" target="_blank">Physics2DDirectBodyState</a>. I highly recommend you take a look at the
linked document, there is a lot of really useful data provided in the physics state object.
For our purposes, the key piece of information is the body&rsquo;s <a href="http://docs.godotengine.org/en/latest/classes/class_transform2d.html" target="_blank">Transform2D</a>.
(Explaining transforms is beyond the scope of this document - see <a href="http://docs.godotengine.org/en/latest/learning/features/math/matrices_and_transforms.html">Matrices and transforms</a>
for more information.)</p>

<p>The body&rsquo;s position is contained in the transform&rsquo;s <code>origin</code>. Change <code>_physics_process()</code>
to <code>_integrate_forces()</code> and add the following code:</p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-swift" data-lang="swift"><span style="color:#8be9fd;font-style:italic">func</span> <span style="color:#50fa7b">_integrate_forces</span>(state):
    set_applied_force(thrust.rotated(rotation))
    set_applied_torque(rotation_dir <span style="color:#ff79c6">*</span> spin_thrust)
    <span style="color:#8be9fd;font-style:italic">var</span> <span style="color:#8be9fd;font-style:italic">xform</span> = state.get_transform()
    <span style="color:#ff79c6">if</span> xform.origin.x <span style="color:#ff79c6">&gt;</span> screensize.x:
        xform.origin.x = <span style="color:#bd93f9">0</span>
    <span style="color:#ff79c6">if</span> xform.origin.x <span style="color:#ff79c6">&lt;</span> <span style="color:#bd93f9">0</span>:
        xform.origin.x = screensize.x
    <span style="color:#ff79c6">if</span> xform.origin.y <span style="color:#ff79c6">&gt;</span> screensize.y:
        xform.origin.y = <span style="color:#bd93f9">0</span>
    <span style="color:#ff79c6">if</span> xform.origin.y <span style="color:#ff79c6">&lt;</span> <span style="color:#bd93f9">0</span>:
        xform.origin.y = screensize.y
    state.set_transform(xform)</code></pre></div>

<p>We grab the current transform, change it as necessary, and set it back as the new
transform. The physics engine stays happy, and everything works as expected:</p>

<p><img src="/godot_recipes/img/rigidbody_ship2.gif" alt="alt" /></p>

<h2 id="conclusion">Conclusion</h2>

<p>When used properly, rigid bodies are a powerful tool in your Godot toolkit. Many
users get in trouble, however, when they use them for the wrong purposes, or
fail to understand exactly how they work.</p>


<h3>Comments</h3>
<div id="disqus_thread"></div>
<script type="text/javascript">

    (function () {
        
        
        if (window.location.hostname == "localhost")
            return;

        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        var disqus_shortname = 'kidscancode';
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by
        Disqus.</a></noscript>
<a href="http://disqus.com/" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

<footer class=" footline" >
	
</footer>

        
        </div> 
        

      </div>

    <div id="navigation">
        
        
        
        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
                    
            
        
        
        


	 
	 
    </div>

    </section>
    
    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="/godot_recipes/js/clipboard.min.js?1589403839"></script>
    <script src="/godot_recipes/js/perfect-scrollbar.min.js?1589403839"></script>
    <script src="/godot_recipes/js/perfect-scrollbar.jquery.min.js?1589403839"></script>
    <script src="/godot_recipes/js/jquery.sticky.js?1589403839"></script>
    <script src="/godot_recipes/js/featherlight.min.js?1589403839"></script>
    <script src="/godot_recipes/js/html5shiv-printshiv.min.js?1589403839"></script>
    <script src="/godot_recipes/js/highlight.pack.js?1589403839"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="/godot_recipes/js/modernizr.custom-3.6.0.js?1589403839"></script>
    <script src="/godot_recipes/js/learn.js?1589403839"></script>
    <script src="/godot_recipes/js/hugo-learn.js?1589403839"></script>

    <link href="/godot_recipes/mermaid/mermaid.css?1589403839" type="text/css" rel="stylesheet" />
    <script src="/godot_recipes/mermaid/mermaid.js?1589403839"></script>
    <script>
        mermaid.initialize({ startOnLoad: true });
    </script>
    

<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-39851424-1', 'auto');
	
	ga('send', 'pageview');
}
</script>

  </body>
</html>

